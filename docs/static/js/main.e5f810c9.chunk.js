(window.webpackJsonpdaysold=window.webpackJsonpdaysold||[]).push([[0],{169:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(34),r=a.n(s),i=(a(91),a(19)),c=a(20),o=a(16),m=a(21),u=a(22),d=(a(42),a(69)),E=a.n(d),p=a(85),h=a.n(p),b=a(38),f=a.n(b),_=a(31),O=a.n(_),y=a(80),g=a.n(y),N=(a(137),a(18)),S=function(e){function t(e){var a;Object(i.a)(this,t),a=Object(o.a)(this,Object(m.a)(t).call(this,e));var n=new Date;return a.state={date:n,date_iso8601:n.toISOString().slice(0,10)},a.setDate=function(e){a.setState({date:e,date_iso8601:e.toISOString().slice(0,10)})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h2",null,"HOW MANY DAYS",l.a.createElement("br",null),"OLD ARE YOU?"),l.a.createElement("p",{id:"what_dob"},"WHAT'S YOUR",l.a.createElement("br",null),"DATE OF BIRTH?"),l.a.createElement("div",null,l.a.createElement(g.a,{selected:this.state.date,onChange:function(t){return e.setDate(t)},dateFormatCalendar:"MMM yyy",minDate:new Date("1850-01-01"),maxDate:new Date,showYearDropdown:!0,showMonthDropdown:!0,dropdownMode:"select"})),l.a.createElement(N.b,{to:"/date/".concat(this.state.date_iso8601)},l.a.createElement("button",{className:"button",id:"submit",type:"submit",name:"submit"},"LET'S\xa0GO")),l.a.createElement("p",{className:"footer"},"Do you like podcasts? Get the best podcast recommendations from ",l.a.createElement("a",{href:"https://thelistener.substack.com/c/days-old",className:"footer_link"},"The Listener")," with this special free gift."))}}]),t}(l.a.Component),v=a(43),D=a(39),T=a.n(D),w=a(84),x=a.n(w),k=a(14),j=a.n(k),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={submitted:!1,submit_success:!1,pending:!1,validate:!1,dob:e.date.toISOString().slice(0,10)},a.handleSubmit=a.handleSubmit.bind(Object(v.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),e.stopPropagation(),this.setState({validate:!0}),!1!==e.currentTarget.checkValidity()){var a=new FormData(e.target),n=a.get("email"),l=a.get("name");fetch("https://api.daysold.com/subscribe",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({dob:this.state.dob,name:l,email:n})}).then((function(){t.setState({submitted:!0,submit_success:!0,pending:!1})})).catch((function(e){t.setState({submitted:!0,submit_success:!1,pending:!1})})),this.setState({pending:!0})}}},{key:"render_submitted_success",value:function(){return l.a.createElement(f.a,null,l.a.createElement(O.a,{md:{span:4,offset:4}},l.a.createElement(j.a,null,l.a.createElement(j.a.Body,null,l.a.createElement(j.a.Title,null,"THANK YOU!"),l.a.createElement("i",{className:"pink-icon fas fa-envelope-open-text fa-5x"}),l.a.createElement(j.a.Text,null,"You will now receive email reminders for your upcoming milestones.")))))}},{key:"render_submitted_failure",value:function(){return l.a.createElement(f.a,null,l.a.createElement(O.a,{md:{span:4,offset:4}},l.a.createElement(j.a,null,l.a.createElement(j.a.Body,null,l.a.createElement(j.a.Title,null,"WE'RE SORRY!"),l.a.createElement("i",{className:"pink-icon fas fa-exclamation-triangle fa-5x"}),l.a.createElement(j.a.Text,null,"Something went wrong, and we were unable to sign you up for email reminders. Please try again later.")))))}},{key:"render_unsubmitted",value:function(){return l.a.createElement(f.a,null,l.a.createElement(O.a,{md:{span:4,offset:4}},l.a.createElement(j.a,null,l.a.createElement(j.a.Body,null,l.a.createElement(j.a.Subtitle,null,"Were you born on ",this.props.date.toDateString(),"? Get an email reminder for your next milestone."),l.a.createElement(T.a,{noValidate:!0,className:"pad-form",validated:this.state.validate,onSubmit:this.handleSubmit},l.a.createElement(T.a.Group,{controlId:"formName"},l.a.createElement(T.a.Control,{required:!0,maxLength:"50",name:"name",type:"text",placeholder:"Name"})),l.a.createElement(T.a.Group,{controlId:"formEmail"},l.a.createElement(T.a.Control,{required:!0,name:"email",type:"email",placeholder:"E-mail"})),l.a.createElement(x.a,{variant:"outline-dark flat",type:"submit",disabled:this.state.pending},"GET EMAIL REMINDERS"))))))}},{key:"render",value:function(){return this.state.submitted&&this.state.submit_success?this.render_submitted_success():this.state.submitted&!this.state.submit_success?this.render_submitted_failure():this.render_unsubmitted()}}]),t}(l.a.Component),R=function(e){function t(e){var a,n,l;Object(i.a)(this,t),a=Object(o.a)(this,Object(m.a)(t).call(this,e));try{l=(n=new Date(e.match.params.date)).toISOString().slice(0,10)}catch(p){n=null}if(!n||l!==e.match.params.date)return a.state={date:null},Object(o.a)(a);a.state={date:n,date_iso8601:l};var s=new Date,r=Math.floor((s-n)/864e5),c=5e3*Math.floor(r/5e3)+5e3,u=[];if(r<900)u.push(100*Math.floor(r/100)+100);else{var d=1e3*Math.floor(r/1e3)+1e3;d%5e3!==0?u.push(d):u.push(d+1e3)}[7777,11111,12345,22222].forEach((function(e){r<e&&u.push(e)}));var E=u.sort((function(e,t){return e-t}))[0];return a.state.days_old=r,a.state.next_big_milestone=c,a.state.next_big_milestone_date=new Date,a.state.next_big_milestone_date.setDate(n.getDate()+c-r),a.state.next_small_milestone=E,a.state.next_small_milestone_date=new Date,a.state.next_small_milestone_date.setDate(n.getDate()+E-r),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render_invalid_date",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"WE'RE SORRY"),l.a.createElement("i",{className:"pink-icon fa fa-calendar-times fa-5x app_icon"}),l.a.createElement("p",{className:"app_text"},"WE DON'T RECOGNIZE THAT DATE"),l.a.createElement(N.b,{to:"/"},l.a.createElement("button",{className:"button",id:"submit",type:"submit",name:"submit"},"TO THE FRONT PAGE")))}},{key:"render_valid_date",value:function(){return l.a.createElement("div",null,l.a.createElement("p",{id:"today_you_are"},"TODAY YOU ARE",l.a.createElement("br",null),l.a.createElement("span",{id:"days_old_output",className:"emphasis"},this.state.days_old),l.a.createElement("br",null),"DAYS OLD"),l.a.createElement("p",null,"\u2014",l.a.createElement("span",{id:"upcoming_milestones"},"UPCOMING MILESTONES"),"\u2014"),l.a.createElement("p",{className:"you_will_be"},"YOU WILL BE",l.a.createElement("br",null),l.a.createElement("span",{id:"small_milestone_output",className:"emphasis"},this.state.next_small_milestone)," DAYS OLD",l.a.createElement("br",null),"ON ",l.a.createElement("span",{className:"emphasis",id:"small_milestone_date_output"},this.state.next_small_milestone_date.toDateString())),l.a.createElement("p",{className:"you_will_be"},"YOU WILL BE",l.a.createElement("br",null),l.a.createElement("span",{id:"big_milestone_output",className:"emphasis"},this.state.next_big_milestone)," DAYS OLD",l.a.createElement("br",null),"ON ",l.a.createElement("span",{className:"emphasis",id:"big_milestone_date_output"},this.state.next_big_milestone_date.toDateString())),l.a.createElement(I,{date:this.state.date}),l.a.createElement(N.b,{to:"/"},l.a.createElement("button",{className:"button",id:"submit",type:"submit",name:"submit"},"START OVER")),l.a.createElement("p",{className:"footer"},"Do you like podcasts? Get the best podcast recommendations from ",l.a.createElement("a",{href:"https://thelistener.substack.com/c/days-old",className:"footer_link"},"The Listener")," with this special free gift."))}},{key:"render",value:function(){return this.state.date?this.render_valid_date():this.render_invalid_date()}}]),t}(l.a.Component),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={pending:!0,success:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;fetch("".concat("https://api.daysold.com/unsubscribe","/").concat(t),{method:"DELETE"}).then((function(){return e.setState({pending:!1,success:!0})})).catch((function(t){return e.setState({pending:!1,success:!1})}))}},{key:"render_pending",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"UNSUBSCRIBING..."),l.a.createElement("i",{className:"pink-icon fas fa-spinner fa-pulse fa-9x"}))}},{key:"render_success",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"SUCCESS"),l.a.createElement("i",{className:"pink-icon fa fa-check-circle fa-5x app_icon"}),l.a.createElement("p",{className:"app_text"},"YOU HAVE BEEN UNSUBSCRIBED",l.a.createElement("br",null),"FROM FUTURE MILESTONE NOTIFICATIONS"),l.a.createElement(N.b,{to:"/"},l.a.createElement("button",{className:"button",id:"submit",type:"submit",name:"submit"},"TO THE FRONT PAGE")))}},{key:"render_fail",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"WE'RE SORRY"),l.a.createElement("i",{className:"pink-icon fa fa-exclamation-triangle fa-5x app_icon"}),l.a.createElement("p",{className:"app_text"},"WE'RE HAVING SOME TECHNICAL DIFFICULTIES.",l.a.createElement("br",null),"PLEASE TRY AGAIN LATER."),l.a.createElement(N.b,{to:"/"},l.a.createElement("button",{className:"button",id:"submit",type:"submit",name:"submit"},"TO THE FRONT PAGE")))}},{key:"render",value:function(){return this.state.pending?this.render_pending():this.state.success?this.render_success():this.render_fail()}}]),t}(l.a.Component),C=a(28),L=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(N.a,null,l.a.createElement("div",null,l.a.createElement(E.a,{bg:"light",fixed:"top",expand:"lg"},l.a.createElement(E.a.Brand,{className:"unselectable mx-auto"},l.a.createElement(N.b,{to:"/"},"DAYSOLD.COM"))),l.a.createElement(h.a,null,l.a.createElement(f.a,null,l.a.createElement(O.a,{className:"page-content"},l.a.createElement(C.a,{path:"/",exact:!0,component:S}),l.a.createElement(C.a,{path:"/date/:date",exact:!0,component:R}),l.a.createElement(C.a,{path:"/unsubscribe/:id",exact:!0,component:A}))))))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(168);r.a.render(l.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},42:function(e,t,a){},86:function(e,t,a){e.exports=a(169)},91:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.e5f810c9.chunk.js.map